### Backup Script Using Borg Backup and rclone

This is a basic script for performing automatic backups using Borg Backup and rclone.  It uses a systemd service on a timer to regularly back up one directory to one rclone remote.

**Setup**
- Ensure that both the `rclone` and `borg` packages are installed and operational.
- Copy the `envs` and `backup.sh` file to some location that they can remain permanently.  You may wish to locate this in a folder which can also contain the backup logs.
- Configure the script and service by editing the `envs` and `borg.service` file as desired.
- *Optional*: The `borg.timer` service is set to run at 1 AM every day.  This can be changed by editing the `borg.timer` file.
- Move the `borg.timer` and `borg.service` to the appropriate folders so that systemd can run them.  Probably `/etc/systemd/system`, but this may vary depending on your distribution.
- Enable the timer service.

**Helpful Commands**
- Enable a systemd timer: `systemctl enable borg.timer`
- List enabled timers: `systemctl list-timers`
- Force a service to run right now, for testing: `systemctl start borg.service`

**Config Reference**

Here is a brief description of the various options to set in `envs` and `borg.service` file.

*`envs`*
- `BORG_PASSPHRASE`: The passphrase for your borg repository.
- `BORG_REPO`: The location of the local repository.  This repository is what will be sync'd to the rclone remote.  The repo files will therefore exist both on your local machine, and on the remote.
- `BACKUP_DATA_DIR`: The directory containing the files you want to be backed up.
- `LOGFILE_PATH`: Where the logs generated by the script will be stored.  You should probably locate this file in the same place as the script and environment file.
- `MIN_SPACE`: The minimum space, in bytes, that the repo will be allowed to sync with rclone.  This is intended to prevent a potential situation where somehow the local repo is empty, and sync'ing it with rclone would result in deleting the remote repo as well.  Set this variable according to your specific needs.
- `RCLONE_REMOTE`: The name of the remote rclone will use.

*`borg.service`*
- `EnvironmentFile`: The full path to where you put the environment file.
- `User`: The user you want the service to run as.
- `Group`: The group you want the service to run as.
- `ExecStart`: Provide the full path to where the backup script is, after `/bin/bash`, so that the script is invoked when the service runs.
